<div class="tile p-2 mt-2 rounded-md hover:ring-1 ring-black" [ngClass]="[bgColor, bgOpacity]">
    <div class="info text-xs flex gap-2">
        <span class="bg-gray-200 p-1 rounded-3xl pr-2 text-gray-600"
            [ngClass]="[bgColor,'bg-opacity-10','text-' + this.bgColor.split('bg-')[1]]">
            <i class="ri-checkbox-blank-circle-fill mr-1"></i> {{taskService.giveStage(task.stage)}}</span>
        <span class="bg-gray-200 p-1 rounded-3xl pr-2 text-gray-600" [ngClass]="{
            'bg-green-100 text-green-500': task.priority == 0,
            'bg-yellow-100/80 text-yellow-600': task.priority == 1,
            'bg-red-200 text-red-500': task.priority == 2
          }">
            <i class="ri-slow-down-line mr-1"></i>{{taskService.givePriority(task.priority)}}
        </span>
    </div>
    <h3 class="text-md  capitalize mt-2">{{task.name}}</h3>
    <div class="controls flex justify-between items-center">
        <p class="text-xs">{{task.deadline | date : "mediumDate"}}</p>
        <div class="text-xl flex gap-1">
            <button title="back" (click)="movBackward(task._id)" [disabled]="task.stage == 0"
                class="w-8 h-8 rounded-full flex justify-center items-center hover:bg-yellow-100 bg-yellow-50 text-yellow-300 disabled:bg-gray-200 disabled:text-gray-400 disabled:cursor-not-allowed">
                <i class="ri-arrow-left-circle-line"></i>
            </button>
            <button title="forward" (click)="moveForward(task._id)" [disabled]="task.stage == 3"
                class="w-8 h-8 rounded-full flex justify-center items-center hover:bg-green-200 bg-green-100 text-green-500 disabled:bg-gray-200 disabled:text-gray-400 disabled:cursor-not-allowed">
                <i class="ri-arrow-right-circle-line"></i>
            </button>
            <button title="edit" (click)="editTask(task)"
                class="w-8 h-8 rounded-full flex justify-center items-center hover:bg-blue-200 bg-blue-100 text-blue-500">
                <i class="ri-edit-circle-line"></i>
            </button>
            <button (click)="deleteTask(task._id)" title="delete"
                class="w-8 h-8 rounded-full flex justify-center items-center hover:bg-red-300 bg-red-100 text-red-500">
                <i class="ri-close-circle-line"></i>
            </button>
        </div>
    </div>
</div>